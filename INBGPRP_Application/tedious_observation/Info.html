{% block title %}
    Info
{% endblock %}
{% block content %}
    <style>
        h1 {text-align: center}
        td {text-align: center}
        tr {text-align: right}
        th {text-align: center}
    </style>
    <h1> <i>Welcome!</i> </h1>

    <div class = "container-sm">
        <p class="text-start">
            Your job for the next 50 minutes is to be count the number
            of zeros that you see in the matrix <b><i>like the one you see below.</i></b><br>

            There will be three stages:<br><br>
            Stage 1:<br>
            <ul>
                <li>Duration: 10 min</li>
                <li>Penalty:  $0.25</li>
                <li>Default Goal: 1 table per minute or 10 tables</li>
            </ul>


            If you enter the correct amount of 0s in the
            box below the matrix you will be rewarded with <b><i>$0.25!</i></b><br>
            Try to answer as many as possible!
        </p>
        <table class = "table table-small">
            <colgroup span="3"></colgroup>
            <tr>
                <td rowspan="3"></td>
                <th class = "table-info" colspan="3" scope = "colgroup">Stage</th>
                <th class = "table-info" colspan="1" scope = "colgroup">1</th>
            </tr>
             <tr>
                <td>50,000</td>
                <td>30,000</td>
                <td>100,000</td>
              </tr>
        </table>
        <h3 class = "text-dark">
            You've earned {% player.payoff %} so far!
        </h3>
        <table class = "table table-hover table-bordered table-sm">
            <thread>
                <tr class = "table-info table-sm">
                    <th class="col-sm-1" scope="col">#</th>
                    <th class="border-3 col-sm-1" scope="col">1</th>
                    <th class="border-3 col-sm-1" scope="col">2</th>
                    <th class="border-3 col-sm-1" scope="col">3</th>
                    <th class="border-3 col-sm-1" scope="col">4</th>
                    <th class="border-3 col-sm-1" scope="col">5</th>
                    <th class="border-3 col-sm-1" scope="col">6</th>
                    <th class="border-3 col-sm-1" scope="col">7</th>
                    <th class="border-3 col-sm-1" scope="col">8</th>
                    <th class="border-3 col-sm-1" scope="col">9</th>
                    <th class="border-3 col-sm-1" scope="col">10</th>
                </tr>
            </thread>
            <tbody id = "data_body"> </tbody>
        </table>
        <script>
        function generateData() {
            const R = 15, C = 10, randomizer = Math.random()
            let zeros = 0, ones = 0
            var data = Array(R)
            for (var i = 0; i < R; i++) {
                data[i] = Array(C).fill(0)
                for (var j = 0; j < C; j++) {
                    if (Math.random() < randomizer) {
                        data[i][j] = 0
                        zeros++
                    } else {
                        data[i][j] = 1
                        ones++
                    }
                }
            }
            console.log("Zeros: %s", zeros)
            console.log("Ones: %s", ones)

            return data
        }
        function buildTable(matrix){
                let table = document.getElementById('data_body')

                for (let i = 0; i < 15; i++){
                    let row = []
                        row =`<tr>
                                <th class = "border-3 table-bordered table-info table-hover" scope="row">${i+1}</th>
                                <td class = "table-secondary table-bordered border-3">${matrix[i][0]}</td>
                                <td class = "table-secondary table-bordered border-3">${matrix[i][1]}</td>
                                <td class = "table-secondary table-bordered border-3">${matrix[i][2]}</td>
                                <td class = "table-secondary table-bordered border-3">${matrix[i][3]}</td>
                                <td class = "table-secondary table-bordered border-3">${matrix[i][4]}</td>
                                <td class = "table-secondary table-bordered border-3">${matrix[i][5]}</td>
                                <td class = "table-secondary table-bordered border-3">${matrix[i][6]}</td>
                                <td class = "table-secondary table-bordered border-3">${matrix[i][7]}</td>
                                <td class = "table-secondary table-bordered border-3">${matrix[i][8]}</td>
                                <td class = "table-secondary table-bordered border-3">${matrix[i][9]}</td>
                              </tr>`
                    table.innerHTML += row
                }
            }
            buildTable(generateData())
        </script>

    {% next_button %}
    </div>
{% endblock %}

{% block global_scripts  %}
{% endblock %}
